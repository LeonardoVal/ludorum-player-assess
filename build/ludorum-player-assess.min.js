//! ludorum-player-assess 0.0.1

(function(e){"use strict";"function"==typeof define&&define.amd?define(["creatartis-base","sermat","ludorum"],e):"object"==typeof exports&&module.exports?module.exports=e(require("creatartis-base"),require("sermat"),require("ludorum")):this["ludorum-player-assess"]=e(this.base,this.Sermat,this.ludorum)}).call(this,function e(r,a,n){"use strict";var t={__package__:"ludorum-player-assess",__name__:"ludorum_player_assess",__init__:e,__dependencies__:[r,a],ludorum:n,__SERMAT__:{include:[r,n]},compare:function(e,a,t,o,s){t=t||new n.players.RandomPlayer({name:"RandomPlayer"}),o=o||[new n.players.RandomPlayer({name:"RandomOpponent"})],s=+s||400;var u=new n.tournaments.Measurement(e,a,o,s),i=new n.tournaments.Measurement(e,t,o,s);return r.Future.all([u.run(),i.run()]).then(function(){var r={};return e.players.forEach(function(e){var n=u.statistics,o=i.statistics;(r[a.name]||(r[a.name]={}))[e]=[n.count({key:"victories",role:e,player:a.name}),n.count({key:"draws",role:e,player:a.name}),n.count({key:"defeats",role:e,player:a.name})],(r[t.name]||(r[t.name]={}))[e]=[o.count({key:"victories",role:e,player:t.name}),o.count({key:"draws",role:e,player:t.name}),o.count({key:"defeats",role:e,player:t.name})]}),r})}},o={.1:2.706,.05:3.841,.01:6.635};t.chiSquared1=function(e,r,a){var n=e[0],t=r[0],s=e[2],u=r[2],i=Math.pow(n*u-t*s,2)*(n+t+s+u)/(n+s)/(t+u)/(s+u)/(n+t),c=a&&a.significance||.05;return{chiSquared:i,comparison:i<(a&&a.criticalValue||o[""+c])?0:n-t,effect:Math.sqrt(chiSquared/(n+t+s+u))}};var s=t.__fisherTestP2x2__=function(e,r,a,n){var t=e+r+a+n,o=new Array(t+1);[e+r,a+n,e+a,r+n].forEach(function(e){for(var r=2;r<=e;r++)o[r]=1+(0|o[r])}),[e,r,a,n,t].forEach(function(e){for(var r=2;r<=e;r++)o[r]=(0|o[r])-1}),console.log(o.join(","));for(var s=1,u=2,i=2;u<=t||i<=t;)s<=1&&u<=t?(o[u]>0&&(s*=Math.pow(u,o[u])),u++):(o[i]<0&&(s*=Math.pow(i,o[i])),i++);return s};return t.fisherTest=function(e,r,a){var n=a&&a.significance||.05,t=s(e[0],e[2],r[0],r[2]);return{p:t,comparison:isNaN(t)?NaN:t>n?0:e[0]-r[0]}},t});
//# sourceMappingURL=ludorum-player-assess.min.js.map