//! ludorum-player-assess 0.0.1

(function(e){"use strict";this["ludorum-player-assess"]=e(this.base,this.Sermat,this.ludorum)}).call(this,function e(a,r,n){"use strict";var t={__package__:"ludorum-player-assess",__name__:"ludorum_player_assess",__init__:e,__dependencies__:[a,r],ludorum:n,__SERMAT__:{include:[a,n]},compare:function(e,r,t,o,s){t=t||new n.players.RandomPlayer({name:"RandomPlayer"}),o=o||[new n.players.RandomPlayer({name:"RandomOpponent"})],s=+s||400;var u=new n.tournaments.Measurement(e,r,o,s),i=new n.tournaments.Measurement(e,t,o,s);return a.Future.all([u.run(),i.run()]).then(function(){var a={};return e.players.forEach(function(e){var n=u.statistics,o=i.statistics;(a[r.name]||(a[r.name]={}))[e]=[n.count({key:"victories",role:e,player:r.name}),n.count({key:"draws",role:e,player:r.name}),n.count({key:"defeats",role:e,player:r.name})],(a[t.name]||(a[t.name]={}))[e]=[o.count({key:"victories",role:e,player:t.name}),o.count({key:"draws",role:e,player:t.name}),o.count({key:"defeats",role:e,player:t.name})]}),a})}},o={.1:2.706,.05:3.841,.01:6.635};t.chiSquared1=function(e,a,r){var n=e[0],t=a[0],s=e[2],u=a[2],i=Math.pow(n*u-t*s,2)*(n+t+s+u)/(n+s)/(t+u)/(s+u)/(n+t),c=r&&r.significance||.05;return{chiSquared:i,comparison:i<(r&&r.criticalValue||o[""+c])?0:n-t,effect:Math.sqrt(chiSquared/(n+t+s+u))}};var s=t.__fisherTestP2x2__=function(e,a,r,n){var t=e+a+r+n,o=new Array(t+1);[e+a,r+n,e+r,a+n].forEach(function(e){for(var a=2;a<=e;a++)o[a]=1+(0|o[a])}),[e,a,r,n,t].forEach(function(e){for(var a=2;a<=e;a++)o[a]=(0|o[a])-1}),console.log(o.join(","));for(var s=1,u=2,i=2;u<=t||i<=t;)s<=1&&u<=t?(o[u]>0&&(s*=Math.pow(u,o[u])),u++):(o[i]<0&&(s*=Math.pow(i,o[i])),i++);return s};return t.fisherTest=function(e,a,r){var n=r&&r.significance||.05,t=s(e[0],e[2],a[0],a[2]);return{p:t,comparison:isNaN(t)?NaN:t>n?0:e[0]-a[0]}},t});
//# sourceMappingURL=ludorum-player-assess-tag.min.js.map