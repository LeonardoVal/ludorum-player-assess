//! ludorum-player-assess 0.0.1

(function(e){"use strict";this["ludorum-player-assess"]=e(this.base,this.Sermat,this.ludorum)}).call(this,function e(a,n,r){"use strict";var t=a.raiseIf,o={__package__:"ludorum-player-assess",__name__:"ludorum_player_assess",__init__:e,__dependencies__:[a,n],ludorum:r,__SERMAT__:{include:[a,r]},compare:function(e,n,t,o,s){t=t||new r.players.RandomPlayer({name:"RandomPlayer"}),o=o||[new r.players.RandomPlayer({name:"RandomOpponent"})],s=+s||400;var u=new r.tournaments.Measurement(e,n,o,s),c=new r.tournaments.Measurement(e,t,o,s);return a.Future.all([u.run(),c.run()]).then(function(){var a={};return e.players.forEach(function(e){var r=u.statistics,o=c.statistics;(a[n.name]||(a[n.name]={}))[e]=[r.count({key:"victories",role:e,player:n.name}),r.count({key:"draws",role:e,player:n.name}),r.count({key:"defeats",role:e,player:n.name})],(a[t.name]||(a[t.name]={}))[e]=[o.count({key:"victories",role:e,player:t.name}),o.count({key:"draws",role:e,player:t.name}),o.count({key:"defeats",role:e,player:t.name})]}),a})}},s=o.hypergeometricRule=function(e,a){var n=0,r=[0,0],t=e.map(function(e,t){return r[0]+=e,r[1]+=a[t],n+=e+a[t],e+a[t]}),o=new Array(n+1);r.concat(t).forEach(function(e){for(var a=2;a<=e;a++)o[a]=1+(0|o[a])}),[n].concat(e,a).forEach(function(e){for(var a=2;a<=e;a++)o[a]=(0|o[a])-1});for(var s=1,u=2,c=2;u<=n||c<=n;)s<=1&&u<=n?(o[u]>0&&(s*=Math.pow(u,o[u])),u++):(o[c]<0&&(s*=Math.pow(c,o[c])),c++);return s};return o.fisher2x2=function(e,a,n){t(2!==e.length||2!==a.length,"Contingency table should be 2x2!"),n=isNaN(n)?.05:+n;var r=e[0],o=e[1],u=a[0],c=a[1],l=r+o,i=u+c,m=r+u,y=o+c,p=Math.abs(r/l-u/i),_=Math.max(m,y),f=0;for(r=0;r<=_;r++)u=m-r,c=y-(o=l-r),Math.abs(r/l-u/i)>=p&&(f+=s([r,o],[u,c]));return{p_value:f,comparison:f>n?0:e[0]-a[0]}},o});
//# sourceMappingURL=ludorum-player-assess-tag.min.js.map